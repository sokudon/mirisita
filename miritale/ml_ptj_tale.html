<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0054)http://sokudon.s17.xrea.com/million_live_rtb_calc.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="./dt_json/tbl.css" type="text/css" rel="stylesheet">
<link rel="stylesheet" href="./dt_json/style.css" type="text/css" media="print, projection, screen" />
<script src="./dt_json/jquery-latest.js" type="text/javascript"></script> 
<script src="./dt_json/jquery.tablesorter.min.js" type="text/javascript"></script> <style type="text/css">
<style type="text/css">
<!--
textarea {
max-width:400px;
max-height:200px;
resize: none;
}
-->
</style>
<title>みりますPT(ている)</title>
</head>
<body style="">
<!--日付変更にmomentjisを使用、ろーかるで動かすにはhttp://momentjs.com/　が必要-->
<script async="" src="./pttale.js"></script> <!--/ppp.txt-->
<script type="text/javascript">

var eregaset=[
[4200,"MMX2"],
[4506,"4MX2+6MX1"],
[4506,"2MX1+6MX2"],
[4509,"2MX1+4MX1+MMX1"],
[4563,"4MX1+6MX2"],
[4566,"4MX2+MMX1"],
[4566,"2MX1+6MX1+MMX1"],
[4620,"6MX3"],
[4623,"4MX1+6MX1+MMX1"],
[4626,"2MX1+MMX2"],
[4680,"6MX2+MMX1"],
[4683,"4MX1+MMX2"],
[4740,"6MX1+MMX2"],
[4818,"2MX2+4MX2"],
[4818,"2MX3+6MX1"],
[4875,"2MX1+4MX3"],
[4875,"2MX2+4MX1+6MX1"],
[4878,"2MX3+MMX1"],
[4932,"4MX4"],
[4932,"2MX1+4MX2+6MX1"],
[4932,"2MX2+6MX2"],
[4935,"2MX2+4MX1+MMX1"],
[4989,"4MX3+6MX1"],
[4989,"2MX1+4MX1+6MX2"],
[4992,"2MX1+4MX2+MMX1"],
[4992,"2MX2+6MX1+MMX1"],
[5049,"4MX3+MMX1"],
[5049,"2MX1+4MX1+6MX1+MMX1"],
[5052,"2MX2+MMX2"],
[5130,"2MX5"],
[5187,"2MX4+4MX1"],
[5244,"2MX3+4MX2"],
[5244,"2MX4+6MX1"],
[5301,"2MX3+4MX1+6MX1"],
[5304,"2MX4+MMX1"],
[5361,"2MX3+4MX1+MMX1"],
];


function stringfilter() {
st="";
var target=document.getElementById("val").value;
st="<table id=\"sampleTable\" class=\"tablesorter\"><thead><tr><th>2M　</th><th>4M　</th><th>6M　</th><th>MM　</th><th>エレガント一式　</th><th>曲回数　</th></tr></thead><tbody>";

var div=0;
var ibept=0;
var ibeindex=$("#taleset").attr("selectedIndex");
document.getElementById("ptset").innerHTML=eregaset[ibeindex][0];
ibept= eregaset[ibeindex][0];


if(document.getElementById("ibe").checked){

div=Math.floor(target/ibept);
target = target - div*ibept;
if(target!=0){
if(target<200 && div>0){
target +=ibept;
div--;
}}}


var ptt={"2M":142,"4M":161,"6M":180,"MM":200,"EREGASET":ibept};
var pts;

var m= eregaset[ibeindex][1].match(/X[0-9]/gm);
var song=0;
for(var i=0;i<m.length;i++){
song +=parseInt(m[i].match(/[0-9]/));
}
var eregasong=div*(3*song+1);
var total=(pat[i][0]+pat[i][1]+pat[i][2]+pat[i][3]);
var totalerega=total+eregasong;

for(var i=0;i<pat.length;i++){
if(target==pat[i][4]){

total=(pat[i][0]+pat[i][1]+pat[i][2]+pat[i][3]);
totalerega=total+eregasong;

pts= ptt["2M"]*pat[i][0]+ptt["4M"]*pat[i][1]+ptt["6M"]*pat[i][2]+ptt["MM"]*pat[i][3]; 
st += "<tr><td>" + pat[i][0] +"</td><td>" +  pat[i][1] +"</td><td>" +  pat[i][2] +"</td><td>" + pat[i][3] +"</td><td>" + div+"</td><td>"+totalerega+";"+total+"+エレガ一式"+div+"("+eregasong+")</td></tr>";
}}
st +="</tbody></table>";
st += "イベ曲以外のこり:" +pts;


document.getElementById("tbl").innerHTML=st;

var backsort=currentSort;
$.tablesorter.defaults.widgets = ['zebra'];
$("#sampleTable").tablesorter(
{
sortList: backsort,
headers: {
}}
).bind("sortEnd",
        function(sorter) {
            currentSort = sorter.target.config.sortList;
        });
return;
}
    
window.onload = function () {
 $("#sampleTable").tablesorter({
    widthFixed: false
    }
    );
};
        

var currentSort=[[6,0]];//ぼだ
    -->
    </script>
<h1>みりますれいんぼうPTさーちているばん</h1>
PTポイント；{"2M",142,"4M":161,"6M":180,"MM":200,"EREGASET":<span id="ptset">4200</span>}<br>
<a href="p_ren_tale.txt">検索可能な数値＋イベ倍数(欠けなしは2000から3000あたりがすくないですmm)</a><br>
<label for="val">検索スコア:<input type="text" id="val" value="30000"><br></label>
<label for="ibe">エレガント+ALLライブ曲のみも入れる(※ご機嫌ゲージは初期状態０％のみ対応です_m（）m_)
(お仕事はBAD～PEFECT変動ガチャなので不可):<input type="checkbox" checked="checked" id="ibe"><br></label>
<select name="tale" id="taleset" onChange="stringfilter()">
<option selected="selected" >MMx2</option>
<option>4Mx2+6Mx1</option>
<option>2Mx1+6Mx2</option>
<option>2Mx1+4Mx1+MMx1</option>
<option>4Mx1+6Mx2</option>
<option>4Mx2+MMx1</option>
<option>2Mx1+6Mx1+MMx1</option>
<option>6Mx3</option>
<option>4Mx1+6Mx1+MMx1</option>
<option>2Mx1+MMx2</option>
<option>6Mx2+MMx1</option>
<option>4Mx1+MMx2</option>
<option>6Mx1+MMx2</option>
<option>2Mx2+4Mx2</option>
<option>2Mx3+6Mx1</option>
<option>2Mx1+4Mx3</option>
<option>2Mx2+4Mx1+6Mx1</option>
<option>2Mx3+MMx1</option>
<option>4Mx4</option>
<option>2Mx1+4Mx2+6Mx1</option>
<option>2Mx2+6Mx2</option>
<option>2Mx2+4Mx1+MMx1</option>
<option>4Mx3+6Mx1</option>
<option>2Mx1+4Mx1+6Mx2</option>
<option>2Mx1+4Mx2+MMx1</option>
<option>2Mx2+6Mx1+MMx1</option>
<option>4Mx3+MMx1</option>
<option>2Mx1+4Mx1+6Mx1+MMx1</option>
<option>2Mx2+MMx2</option>
<option>2Mx5</option>
<option>2Mx4+4Mx1</option>
<option>2Mx3+4Mx2</option>
<option>2Mx4+6Mx1</option>
<option>2Mx3+4Mx1+6Mx1</option>
<option>2Mx4+MMx1</option>
<option>2Mx3+4Mx1+MMx1</option>
</select>

<input type="Submit" value="Convert" generate"="" onclick="stringfilter();return false">
</form>
<div id="tbl">
<table id="sampleTable" class="tablesorter">
<thead><tr><th>2M　</th><th>4M　</th><th>6M　</th><th>MM　</th><th>エレガント一式　</th><th>曲回数</th></tr></thead>
</table>
</div>
<h2><a href="https://docs.google.com/spreadsheets/d/1VSx2t441lQnjbLNspSvi9--lHy8EIMAL4EFwOYnfaGM/edit#gid=2136639685">スプレッドシート版（コピーして使う,調整方法も掲載中）</a></h2>
</body></html>